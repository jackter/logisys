<div fxLayout="column" fxFlex="1 1 auto">

    <div class="form-section-header text-bold primary-900 mb-0" fxFlex="0 1 auto" fxLayout="row" fxLayoutGap="10px">
        <div fxFlex="1 1 auto" class="text-center p-12">
            MATERIAL REQUEST
        </div>
        <div 
            fxFlex="0 0 auto"
            *ngIf="perm.add_request && Default.jo.finish != 1"
        >
            <button 
                mat-raised-button
                class="accent-bg" 
                (click)="OpenForm('add')" 
                [@animate]="{value:'*',params:{delay:'150ms',y:'35px'}}"
            >
                <mat-icon class="accent-bg">add</mat-icon>
                Request Materials
            </button>
        </div>
    </div>

    <div class="content" style="height: 100%;">
        <ag-grid-angular
            style="width: 100%; height: 100%"
            class="ag-theme-balham"
            
            [defaultColDef]="gridOptions.defaultColDef"
            [columnDefs]="TableCol"
            [context]="gridOptions.context"
            [enableFilter]="gridOptions.enableFilter"
            [floatingFilter]="gridOptions.floatingFilter"
            [animateRows]="gridOptions.animateRows"
            [enableColResize]="gridOptions.enableColResize"
            [allowContextMenuWithControlKey]="gridOptions.allowContextMenuWithControlKey"
            [getContextMenuItems]="getContextMenuItems"

            [rowModelType]="gridOptions.rowModelType"
            [rowBuffer]="gridOptions.rowBuffer"
            [debug]="gridOptions.debug"
            [rowSelection]="gridOptions.rowSelection"
            [rowDeselection]="gridOptions.rowDeselection"
            [cacheOverflowSize]="gridOptions.cacheOverflowSize"
            [maxConcurrentDatasourceRequests]="gridOptions.maxConcurrentDatasourceRequests"
            [infiniteInitialRowCount]="gridOptions.infiniteInitialRowCount"
            [cacheBlockSize]="gridOptions.cacheBlockSize"
            [maxBlocksInCache]="gridOptions.maxBlocksInCache"

            (gridReady)="onGridReady($event)"
            (filterChanged)="FilterChanged($event)"
            (cellDoubleClicked)="onDoubleClick($event)"
            (cellClicked)="onClick($event)"
        ></ag-grid-angular>
    </div>

</div>