<div fxLayout="column" class="dialog-content-wrapper" cdkDrag cdkDragRootElement=".cdk-overlay-pane">

    <mat-toolbar cdkDragHandle matDialogTitle class="mat-primary ma-0">
        <div fxFlex fxLayout="row" fxLayoutAlign="space-between center">
            <span class="title dialog-title">
                Print Job Order
            </span>
            <button mat-button type="button" class="mat-icon-button ml-24" mat-dialog-close aria-label="Close dialog"
                tabindex="-1" *ngIf="!Busy">
                <mat-icon class="white-fg">close</mat-icon>
            </button>
        </div>
    </mat-toolbar>

    <!-- CONTENT -->
    <mat-dialog-content fxLayout="column" fxLayout.sm="column" class="m-0">

        <!-- PRINT AREA -->
        <div class="print-area" fxLayout="column" fxFlex="0 1 auto">

            <table class="table table-bordered table-input table-input-border print-po">
                <thead class="no-bg" padding5>
                    <tr>
                        <td width="100" class="text-center" rowspan="4" style="vertical-align: middle!important;">
                            <!-- <div>
                                <img src="/assets/logo/{{ form.company_abbr }}.png">
                            </div>
                            <div style="margin-top: 2px;">
                                <img src="/assets/memberofcbi.png" height="18">
                            </div> -->
                            <div *ngIf="form.show_logo == 1">
                                <img src="/assets/logo/{{ form.company_abbr }}.png">
                            </div>
                            <div *ngIf="form.show_logo != 1">
                                <img src="/assets/logo/CBI.png">
                            </div>
                        </td>
                        <td class="text-center" colspan="4">
                            <!-- <div class="h3">
                                {{ form.company_nama | uppercase }}
                            </div>
                            <div>
                                CITRA BORNEO INDAH GROUP
                            </div> -->

                            <div class="h3 text-bold">
                                {{ form.business_unit | uppercase }}
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td rowspan="3" class="text-center" style="vertical-align: middle!important;">
                            <div class="h4 text-bold">
                                PRODUCTION ORDER
                            </div>
                        </td>
                        <td width="30">
                            NO
                        </td>
                        <td style="min-width: 75px;">
                            FIP-PPIC-01-09
                        </td>
                    </tr>
                    <tr>
                        <td>
                            REVISION
                        </td>
                        <td>
                            <!-- 00 / 191021 -->
                            00
                        </td>
                    </tr>
                    <tr>
                        <td>
                            EFFECTIVE
                        </td>
                        <td>
                            <!-- 01-06-2018 -->
                            01-06-2018                            28-10-2019
                        </td>
                    </tr>
                </thead>
            </table>

            <div fxLayout="row" fxFlex="0 1 auto">
                <div fxFlex="1 1 auto">
                    <table class="table table-input table-input-noborder">
                        <tr padding5>
                            <td width="150">Store Location</td>
                            <td width="1">:</td>
                            <td class="text-bold">
                                {{ form.storeloc_nama}} ({{ form.storeloc_kode }})
                            </td>

                            <td width="150">Order Number</td>
                            <td width="1">:</td>
                            <td class="text-bold">{{ form.kode }}</td>
                        </tr>

                        <tr padding5>
                            <td width="150">Order Type</td>
                            <td width="1">:</td>
                            <td class="text-bold"></td>

                            <td width="150">Product Number</td>
                            <td width="1">:</td>
                            <td class="text-bold">{{form.item_kode}}</td>
                        </tr>

                        <tr padding5>
                            <td width="150">Start Date</td>
                            <td width="1">:</td>
                            <td class="text-bold">{{form.start_date_show}}</td>

                            <td width="150">Product Description</td>
                            <td width="1">:</td>
                            <td class="text-bold">{{form.nama_produk}}</td>
                        </tr>

                        <tr padding5>
                            <td width="150">Finish Date</td>
                            <td width="1">:</td>
                            <td class="text-bold">{{form.end_date_show}}</td>

                            <td width="150">Order Quantity</td>
                            <td width="1">:</td>
                            <td class="text-bold"></td>
                        </tr>
                    </table><br>

                    <!-- <table class="table table-bordered table-input table-input-border print-po">
                        <tr padding5>
                            <td colspan="2">
                                Information on Order
                            </td>
                        </tr>
                        <tr padding5>
                            <td width="150" class="table-noborder-r"></td>
                            <td class="table-noborder-l">Feed RBDPO</td>
                        </tr>
                    </table> -->
                    <div padding5>
                        Information on Order
                    </div>

                    <div>
                        <table
                            class="table table-responsive table-input table-small table-striped table-hover table-border-top"
                            style="min-width: 500px!important;"
                        >
                            <thead>
                                <!-- <tr>
                                    <th colspan="4" class="text-bold primary-fg">INFORMATION ON ORDER</th>
                                </tr> -->
                                <tr>
                                    <th width="10">
                                        <b>No.</b>
                                    </th>
                                    <th>
                                        <b>Info</b>
                                    </th>
                                    <th>
                                        <b>Description</b>
                                    </th>
                                </tr>
                                <ng-container *ngFor="let item of InfOrder; let i = index;">
                                    <tr *ngIf="item">
                                        <td padding5 width="25" class="text-center">{{ i+1 }}</td>
                                        <td nopadding>
                                            <input
                                                type="text"
                                                placeholder="Input Info"
                                                id="info-{{i}}"
                                                name="info-{{i}}"
                                                [(ngModel)]="item.info"
                                                (ngModelChange)="CreateList(i)"
                                                [readonly]="form.is_detail"
                                            >
                                        </td>
                                        <td nopadding>
                                            <input
                                                type="text"
                                                placeholder="Input Description"
                                                id="keterangan-{{i}}"
                                                name="keterangan-{{i}}"
                                                [(ngModel)]="item.keterangan"
                                                (ngModelChange)="CreateList(i)"
                                                [readonly]="form.is_detail"
                                            >
                                        </td>
                                    </tr>
                                </ng-container>
                                <tr>
                                    <td padding5 colspan="3">For Contracts : {{form.kontrak_kode}}</td>
                                </tr>
                            </thead>
                        </table>

                    </div>
                    

                    <!-- MATERIALS -->
                    <div class="mt-12">
                        <table
                            class="table table-responsive table-input table-small table-striped table-hover table-border-top">
                            <thead>
                                <tr>
                                    <th colspan="20">
                                        <b>MATERIALS</b>
                                    </th>
                                </tr>
                                <tr>
                                    <th width="50">
                                        <b>No.</b>
                                    </th>
                                    <th width="75">
                                        <b>Code</b>
                                    </th>
                                    <th width="300">
                                        <b>Item Name</b>
                                    </th>
                                    <th width="150">
                                        <b>Qty</b>
                                    </th>
                                    <th width="50">
                                        <b>UoM</b>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let item of form.material; let i = index;">
                                    <tr *ngIf="
                            item.id                               
                            ">
                                        <td padding5 align="center">
                                            {{ i+1 }}
                                        </td>
                                        <td padding5 style="white-space: nowrap !important;">
                                            {{ item.kode }}
                                        </td>
                                        <td padding5 style="position: relative;">
                                            <input type="text" placeholder="Item Name" id="material-nama-{{i}}"
                                                name="material-nama-{{i}}" [(ngModel)]="item.nama" required readonly
                                                tabindex="-1" />
                                        </td>

                                        <td>
                                            <input [disabled]="!item.id" type="text" autocomplete="off" maxlength="23"
                                                currencyMask name="material-qty-{{i}}" id="material-qty-{{i}}"
                                                [(ngModel)]="item.qty" required [options]="
                                        {
                                            prefix: '',
                                            allowNegative: false,
                                            thousands: '.',
                                            decimal: ',',
                                            precision: 2
                                        }
                                        " readonly tabindex="-1" />
                                        </td>
                                        <td padding5 class="text-center">
                                            {{ item.satuan }}
                                        </td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                    <!-- MATERIALS -->

                    <!-- UTILITY -->
                    <div class="mt-12">
                        <table
                            class="table table-responsive table-input table-small table-striped table-hover table-border-top">
                            <thead>
                                <tr>
                                    <th colspan="20" class="bold">
                                        <b>UTILITIES</b>
                                    </th>
                                </tr>
                                <tr>
                                    <th width="50">
                                        <b>No.</b>
                                    </th>
                                    <th width="75">
                                        <b>Code</b>
                                    </th>
                                    <th width="300">
                                        <b>Item Name</b>
                                    </th>
                                    <th width="150">
                                        <b>Qty</b>
                                    </th>
                                    <th width="50">
                                        <b>UoM</b>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let item of form.utility; let i = index;">
                                    <tr *ngIf="
                            item.id                               
                            ">
                                        <td padding5 align="center">
                                            {{ i+1 }}
                                        </td>
                                        <td padding5 style="white-space: nowrap !important;">
                                            {{ item.kode }}
                                        </td>
                                        <td padding5 style="position: relative;">
                                            <input type="text" placeholder="Item Name" id="utility-nama-{{i}}"
                                                name="utility-nama-{{i}}" [(ngModel)]="item.nama" required readonly
                                                tabindex="-1" />
                                        </td>

                                        <td>
                                            <input [disabled]="!item.id" type="text" autocomplete="off" maxlength="23"
                                                currencyMask name="utility-qty-{{i}}" id="utility-qty-{{i}}"
                                                [(ngModel)]="item.qty" required [options]="
                                        {
                                            prefix: '',
                                            allowNegative: false,
                                            thousands: '.',
                                            decimal: ',',
                                            precision: 2
                                        }
                                        " readonly tabindex="-1" />
                                        </td>
                                        <td padding5 class="text-center">
                                            {{ item.satuan }}
                                        </td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                    <!-- END UTILITY -->

                    <!-- PRODUCTIONS -->
                    <div class="mt-12">
                        <table
                            class="table table-responsive table-input table-small table-striped table-hover table-border-top">
                            <thead>
                                <tr>
                                    <th colspan="20" class="text-bold primary-fg">
                                        <b>PRODUCTIONS OUTPUT</b>
                                    </th>
                                </tr>
                                <tr>
                                    <th width="50">
                                        <b>No.</b>
                                    </th>
                                    <th width="75">
                                        <b>Code</b>
                                    </th>
                                    <th width="300">
                                        <b>Item Name</b>
                                    </th>
                                    <th width="150">
                                        <b>Qty</b>
                                    </th>
                                    <th width="50">
                                        <b>UoM</b>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let item of form.output; let i = index;">
                                    <tr *ngIf="
                                    item.id                               
                                    ">
                                        <td padding5 align="center">
                                            {{ i+1 }}
                                        </td>
                                        <td padding5 style="white-space: nowrap !important;">
                                            {{ item.kode }}
                                        </td>
                                        <td padding5 style="position: relative;">
                                            <input type="text" placeholder="Item Name" id="output-nama-{{i}}"
                                                name="output-nama-{{i}}" [(ngModel)]="item.nama" required readonly
                                                tabindex="-1" />
                                        </td>

                                        <td>
                                            <input [disabled]="!item.id" type="text" autocomplete="off" maxlength="23"
                                                currencyMask name="output-qty-{{i}}" id="output-qty-{{i}}"
                                                [(ngModel)]="item.qty" required [options]="
                                                {
                                                    prefix: '',
                                                    allowNegative: false,
                                                    thousands: '.',
                                                    decimal: ',',
                                                    precision: 2
                                                }
                                                " readonly tabindex="-1" />
                                        </td>
                                        <td padding5 class="text-center">
                                            {{ item.satuan }}
                                        </td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                    <br>

                    <div class="mt-48">
                        <table class="table table-noborder">
                            <tr>
                                <td width="50%" style="padding-left: 75px;">
                                    <div style="width: 200px;" class="text-center">
                                        <div class="text-bold">
                                            Prepared By,
                                        </div>
                                        <div style="height: 80px;"></div>
                                        <hr>
                                        <div>
                                            Officer
                                        </div>
                                    </div>
                                </td>
                                <td style="padding-right: 75px;">
                                    <div style="width: 200px; float: right;" class="text-center">
                                        <div class="text-bold">
                                            Acknowledge By,
                                        </div>
                                        <div style="height: 80px;"></div>
                                        <hr>
                                        <div>
                                            PPIC
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>


        </div>
    </mat-dialog-content>

    <!-- ACTIONS -->
    <mat-dialog-actions class="p-16 m-0" fxLayout="row" fxLayoutAlign="end" fxLayoutGap="10px">

        <div fxFlex="1 1 auto" fxLayout="row">
            <button type="button" mat-button color="primary" [disabled]="
                    WaitPrint || 
                    Busy
                " (click)="Print()">
                <mat-icon>print</mat-icon>
                Print
            </button>
        </div>

        <div>
            <button *ngIf="!Busy" type="button" mat-button mat-dialog-close>
                <mat-icon>close</mat-icon>
                Close
            </button>
        </div>

    </mat-dialog-actions>
</div>